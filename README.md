# jpeg_server

画像ファイルのアップロード機能をテストするためのレポジトリ。
サーバに実装されている機能は
* ファイルのアップロードAPIの提供
* （まだない）ファイルのハッシュ値リストの取得APIの提供
* ファイルの取得APIの提供

といったところです。

クライアント側のレポジトリは[ここ](https://github.com/UHey-JPN/jpeg_client)

## 取得方法
取得方法は基本的にはChibaroboServerでトーナメントなどのデータを取得する時と同じです。
ShowStateパケットに示されたサーバのIP/ポート番号にTCPでアクセスしてください。
```
image <file name>
```
って送信すると
```
ACK:<file size><CR><LF>
データ本体
```
って言う風に送ってきてくれます。全データの送信が終わったら、サーバがTCPコネクションを切るので、それで通信が終了です。  
ファイルが存在しなかったり、通信内容がおかしかったりすると
```
ACK:<detail><CR><LF>
```
って返ってきます。そのあと、TCPコネクションが切られます。

